
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Hackathon Q1 - 2024 &#8212; Risk Assessment and Adaptation for Critical infrastructurE 1.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nbsphinx-code-cells.css?v=4b0575c0" />
    <link rel="stylesheet" type="text/css" href="../../../_static/theme-deltares.css?v=5518e742" />
    <link rel="stylesheet" type="text/css" href="../../../_static/python-code-block-style.css?v=5dd8df80" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=cdad26c3" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=8d563738"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '_examples/hackathons/20240326_hackathon/summary_2024q1';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
    
    
    
    <img src="../../../_static/ra2ce_logo.svg" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../../../_static/ra2ce_logo.svg" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">RA2CE</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../overview.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../getting_started/index.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../showcases/index.html">
    Showcases
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../tutorials/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api/index.html">
    Docstrings Reference
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../technical_documentation/technical_documentation.html">
    Technical Documentation
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../../contributing/index.html">
    Contributing
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/ra2ce" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_resources/ra2ce_banner.png" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../../../_resources/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../overview.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../getting_started/index.html">
    Getting Started
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../showcases/index.html">
    Showcases
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../tutorials/index.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../api/index.html">
    Docstrings Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../technical_documentation/technical_documentation.html">
    Technical Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../../contributing/index.html">
    Contributing
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Deltares/ra2ce" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../_resources/ra2ce_banner.png" class="icon-link-image" alt="GitHub"/></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.deltares.nl/en/" title="Deltares" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="../../../../../_resources/deltares-blue.svg" class="icon-link-image" alt="Deltares"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Hackathon Q1 - 2024</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="Hackathon-Q1---2024">
<h1>Hackathon Q1 - 2024<a class="headerlink" href="#Hackathon-Q1---2024" title="Link to this heading">#</a></h1>
<section id="Context">
<h2>Context<a class="headerlink" href="#Context" title="Link to this heading">#</a></h2>
<section id="Overall-goal">
<h3>Overall goal<a class="headerlink" href="#Overall-goal" title="Link to this heading">#</a></h3>
<p>Setting up a workflow to enable running RA2CE with multiple flood scenarios in an efficient way, on a larger geographical scale and post-processing the outcomes effectively into meaningful results</p>
</section>
<section id="User-questions">
<h3>User questions<a class="headerlink" href="#User-questions" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="#User-Question-1"><span class="std std-ref">UQ1</span></a> Which roads are most likely to get hit by flooding from this hurricane given its projected flood maps?</p></li>
<li><p><a class="reference internal" href="#User-Question-2"><span class="std std-ref">UQ2</span></a> Where are the flood impacts most disruptive in terms of accessibility? (detour length) = multi-link redundancy</p></li>
<li><p>[UQ3] Which areas/locations are most likely to be unreachable because of this hurricane given its possible tracks? (OD analysis) (to be refined)</p></li>
<li><p>[UQ4] Optional if damages module works: What is the range of minimum and maximum damages that might occur because of this hurricane given its possible tracks?</p></li>
</ul>
</section>
<section id="Results">
<h3>Results<a class="headerlink" href="#Results" title="Link to this heading">#</a></h3>
<p>You can inspect the generated results directly by running the “visualize” snippets of each user question:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#UQ1-Results-visualization"><span class="std std-ref">Results UQ.1</span></a></p></li>
<li><p><a class="reference internal" href="#UQ2-Results-visualization"><span class="std std-ref">Results UQ.2</span></a></p></li>
</ul>
</section>
<section id="Hackathon-requirements">
<h3>Hackathon requirements<a class="headerlink" href="#Hackathon-requirements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Being able to run RA2CE on a large scale with a complex network</p>
<ul>
<li><p>This should be coded generically so that we could do this ‘anywhere’</p></li>
<li><p>But computational time increases a lot with the scale and complexity of the network – how to handle?</p></li>
<li><p>How to determine the extent of the network with different flood maps?</p></li>
<li><p>Splitting up in smaller subsets? How would that change workflow and results?</p></li>
</ul>
</li>
<li><p>Running RA2CE in the cloud with multiple flood maps (100+) in different formats and storing the results</p>
<ul>
<li><p>Being able to handle netcdf / data array / zar data formats?</p></li>
<li><p>Storing the different RA2CE runs and data efficiently</p></li>
<li><p>Skipping the second hazard overlay with the segmented graph as it increases computational time?</p></li>
<li><p>Running multiple flood maps that represent a time series and then adding a time dimension in RA2CE results / analysis</p></li>
</ul>
</li>
<li><p>Having a script that handles and post-processes multiple results</p>
<ul>
<li><p>Processing and storing results for all scenario runs and consolidate/merge them</p></li>
<li><p>Determining what the most interesting information is and how to communicate/visualize this</p></li>
<li><p>Visualization outputs such as statistics or ranges</p></li>
</ul>
</li>
</ul>
</section>
<section id="Generic-workflow">
<h3>Generic workflow<a class="headerlink" href="#Generic-workflow" title="Link to this heading">#</a></h3>
<p>The workflow to be run (with slight modifications) to solve all the <a class="reference internal" href="#User-questions"><span class="std std-ref">user questions</span></a> is as described in the following diagram:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><img alt="ra2ce_cloud.drawio.png" src="../../../_images/ra2ce_cloud.drawio.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>Generic hackathon workflow</em></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="User-Question-1">
<h2>User Question 1<a class="headerlink" href="#User-Question-1" title="Link to this heading">#</a></h2>
<section id="UQ1-Description">
<h3>UQ1 Description<a class="headerlink" href="#UQ1-Description" title="Link to this heading">#</a></h3>
<p>UQ1: Which roads are most likely to get hit by flooding from this hurricane given its projected flood maps?</p>
<ul class="simple">
<li><p><strong>Input</strong>: road extent (OSM), 100+ flood maps from SFINCS in Beira/Qualimane area and a RA2CE folder setup with .ini files.</p></li>
<li><p><strong>Proposed workflow</strong>: multiple flood maps – for every flood map a seperate RA2CE run - for every scenario seperate results – save the results in an efficient way – postprocess into meaningful results.</p></li>
<li><p><strong>Expected output</strong>: flood depths on edges for every scenario.</p></li>
<li><p><strong>Expected post-processed results</strong>: per edge an indication of ‘likelihood’ of flooding (e.g. in 90 / 100 scenario’s this edge gets hit (% hits)).</p></li>
<li><p><strong>Acceptance level</strong>: Tackle user question 1 on Tuesday.</p></li>
<li><p>Which questions for user questions 2,3,4 are also relevant for question 1?</p></li>
</ul>
<section id="Input">
<h4>Input<a class="headerlink" href="#Input" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Collection of hazard files in <code class="docutils literal notranslate"><span class="pre">.tif</span></code> format.</p></li>
<li><p>Boundary box (coordinates) of the network extent.</p></li>
<li><p>ra2ce network configuration file in <code class="docutils literal notranslate"><span class="pre">.ini</span></code> file.</p></li>
</ul>
</section>
<section id="UQ1-workflow">
<h4>UQ1 workflow<a class="headerlink" href="#UQ1-workflow" title="Link to this heading">#</a></h4>
<p>Based on the <a class="reference internal" href="#Generic-workflow"><span class="std std-ref">generic workflow</span></a> we create our own <a class="reference external" href="https://argoproj.github.io/">Argo</a> worfklow. This configuration file can also be found at <code class="docutils literal notranslate"><span class="pre">user_question_1\hackathon_workflow.yaml</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Content of `user_question_1\hackathon_workflow.yaml`</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">argoproj</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">v1alpha1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Workflow</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">generateName</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">hackathon</span><span class="o">-</span><span class="n">uq1</span><span class="o">-</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">entrypoint</span><span class="p">:</span> <span class="n">scenario</span><span class="o">-</span><span class="n">workflow</span>
  <span class="n">templates</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">scenario</span><span class="o">-</span><span class="n">workflow</span>
    <span class="n">steps</span><span class="p">:</span>
    <span class="o">-</span> <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">define</span><span class="o">-</span><span class="n">subdirs</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">read</span><span class="o">-</span><span class="n">members</span>
    <span class="o">-</span> <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">run</span><span class="o">-</span><span class="n">scenario</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">run</span><span class="o">-</span><span class="n">scenario</span>
        <span class="n">arguments</span><span class="p">:</span>
          <span class="n">parameters</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">member</span>
            <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;{{item}}&quot;</span>
        <span class="n">withParam</span><span class="p">:</span> <span class="s2">&quot;{{steps.define-subdirs.outputs.result}}&quot;</span>
    <span class="o">-</span> <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">post</span><span class="o">-</span><span class="n">processing</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">post</span><span class="o">-</span><span class="n">processing</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">read</span><span class="o">-</span><span class="n">members</span>
    <span class="n">script</span><span class="p">:</span>
      <span class="n">image</span><span class="p">:</span> <span class="mf">798877697266.</span><span class="n">dkr</span><span class="o">.</span><span class="n">ecr</span><span class="o">.</span><span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mf">1.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">boto3</span><span class="p">:</span><span class="n">latest</span>
      <span class="n">workingDir</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">[</span><span class="n">python</span><span class="p">]</span>
      <span class="n">source</span><span class="p">:</span> <span class="o">|</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

        <span class="n">bucket</span> <span class="o">=</span> <span class="s1">&#39;ra2ce-data&#39;</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;sfincs_floodmaps_sub/&#39;</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_objects</span><span class="p">(</span><span class="n">Bucket</span><span class="o">=</span><span class="n">bucket</span><span class="p">,</span> <span class="n">Prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> <span class="n">Delimiter</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>

        <span class="n">members</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Contents&#39;</span><span class="p">):</span>
            <span class="n">mem</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Key&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">mem</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
              <span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mem</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">members</span><span class="p">))</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">run</span><span class="o">-</span><span class="n">scenario</span>
    <span class="n">container</span><span class="p">:</span>
      <span class="n">image</span><span class="p">:</span> <span class="n">containers</span><span class="o">.</span><span class="n">deltares</span><span class="o">.</span><span class="n">nl</span><span class="o">/</span><span class="n">ra2ce</span><span class="o">/</span><span class="n">ra2ce</span><span class="p">:</span><span class="n">latest</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;/scripts/user_question_1/hazard_overlay_cloud_run.py&quot;</span><span class="p">]</span>
    <span class="n">nodeSelector</span><span class="p">:</span>
      <span class="n">beta</span><span class="o">.</span><span class="n">kubernetes</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">instance</span><span class="o">-</span><span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;m5.xlarge&quot;</span>
    <span class="n">inputs</span><span class="p">:</span>
      <span class="n">parameters</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">member</span>
      <span class="n">artifacts</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="nb">input</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="p">{{</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">member</span><span class="p">}}</span><span class="o">.</span><span class="n">tif</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">sfincs_floodmaps_sub</span><span class="o">/</span><span class="p">{{</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">member</span><span class="p">}}</span><span class="o">.</span><span class="n">tif</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">data</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">data</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">scripts</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">scripts</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">scripts</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
    <span class="n">outputs</span><span class="p">:</span>
      <span class="n">artifacts</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">output</span>
        <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
        <span class="n">s3</span><span class="p">:</span>
          <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
          <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
          <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
          <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">output_q1</span><span class="o">/</span><span class="p">{{</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">member</span><span class="p">}}</span><span class="o">/</span>
          <span class="n">accessKeySecret</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
          <span class="n">secretKeySecret</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
        <span class="n">archive</span><span class="p">:</span>
          <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">post</span><span class="o">-</span><span class="n">processing</span>
    <span class="n">container</span><span class="p">:</span>
      <span class="n">image</span><span class="p">:</span> <span class="n">containers</span><span class="o">.</span><span class="n">deltares</span><span class="o">.</span><span class="n">nl</span><span class="o">/</span><span class="n">ra2ce</span><span class="o">/</span><span class="n">ra2ce</span><span class="p">:</span><span class="n">latest</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;/scripts/user_question_1/post_processing.py&quot;</span><span class="p">]</span>
    <span class="n">nodeSelector</span><span class="p">:</span>
      <span class="n">beta</span><span class="o">.</span><span class="n">kubernetes</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">instance</span><span class="o">-</span><span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;m5.xlarge&quot;</span>
    <span class="n">inputs</span><span class="p">:</span>
      <span class="n">artifacts</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">output</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">output_q1</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">scripts</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">scripts</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">scripts</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
    <span class="n">outputs</span><span class="p">:</span>
      <span class="n">artifacts</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">pp_output</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">output</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">postprocessing_output_q1</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="UQ1-Pre-processing">
<h3>UQ1 Pre-processing<a class="headerlink" href="#UQ1-Pre-processing" title="Link to this heading">#</a></h3>
<p>Preprocessing has three steps:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#Network-creation"><span class="std std-ref">the creation of a network</span></a>,</p></li>
<li><p><a class="reference internal" href="#Creating-the-buckets"><span class="std std-ref">creating the buckets</span></a> by splitting the floodmaps on different directories,</p></li>
<li><p>and the optional <a class="reference internal" href="#Re-projecting"><span class="std std-ref">reprojection</span></a>.</p></li>
</ul>
<section id="Network-creation">
<h4>Network creation<a class="headerlink" href="#Network-creation" title="Link to this heading">#</a></h4>
<section id="Preparing-initial-data">
<h5>Preparing initial data<a class="headerlink" href="#Preparing-initial-data" title="Link to this heading">#</a></h5>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This script contains the first two sections of `hazard_overlay_preprocessing.ipynb`</span>
<span class="c1"># General imports</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shapely</span><span class="w"> </span><span class="kn">import</span> <span class="n">geometry</span><span class="p">,</span> <span class="n">Polygon</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">osgeo</span><span class="w"> </span><span class="kn">import</span> <span class="n">gdal</span><span class="p">,</span> <span class="n">osr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">shutil</span><span class="w"> </span><span class="kn">import</span> <span class="n">copyfile</span>

<span class="c1"># RA2CE imports and constants</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.network.network_config_data.enums.network_type_enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">NetworkTypeEnum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.network.network_config_data.enums.road_type_enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoadTypeEnum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.network.network_config_data.network_config_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">NetworkConfigData</span><span class="p">,</span> <span class="n">NetworkSection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.network.network_wrappers.osm_network_wrapper.osm_network_wrapper</span><span class="w"> </span><span class="kn">import</span> <span class="n">OsmNetworkWrapper</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.network.exporters.geodataframe_network_exporter</span><span class="w"> </span><span class="kn">import</span> <span class="n">GeoDataFrameNetworkExporter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.network.exporters.multi_graph_network_exporter</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiGraphNetworkExporter</span>

<span class="n">INPUT_FOLDER</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;P:\moonshot2-casestudy\SFINCS\models&#39;</span><span class="p">)</span>
<span class="n">INPUT_FLOODMAP_FOLDER</span> <span class="o">=</span> <span class="s1">&#39;floodmaps_wgs84&#39;</span>
<span class="n">OUTPUT_FOLDER</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;P:\moonshot2-casestudy\RA2CE&#39;</span><span class="p">)</span>
<span class="n">OUTPUT_FLOODMAP_FOLDER</span> <span class="o">=</span> <span class="s1">&#39;floodmaps&#39;</span>
</pre></div>
</div>
</div>
</section>
<section id="Determine-the-polygon-of-the-total-extent-of-the-regions">
<h5>Determine the polygon of the total extent of the regions<a class="headerlink" href="#Determine-the-polygon-of-the-total-extent-of-the-regions" title="Link to this heading">#</a></h5>
<p>The extent of each region is read from file <code class="docutils literal notranslate"><span class="pre">region.geojson</span></code> and appended in a GeoDataFrame. From this GeoDataFrame a Polygon is extracted.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This script contains the third section of `hazard_overlay_preprocessing.ipynb`</span>
<span class="c1"># Loop over region folders and concatenate the extents</span>
<span class="n">_combined_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">()</span>
<span class="k">for</span> <span class="n">_region</span> <span class="ow">in</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">INPUT_FOLDER</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()]:</span>
    <span class="n">_extent_file</span> <span class="o">=</span> <span class="n">_region</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;gis&#39;</span><span class="p">,</span> <span class="s1">&#39;region.geojson&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">_extent_file</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
    <span class="n">_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">_extent_file</span><span class="p">)</span>
    <span class="n">_combined_gdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">_combined_gdf</span><span class="p">,</span> <span class="n">_gdf</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="mi">4326</span><span class="p">)],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Extract polygon of the total extent spanning the concatenated regions</span>
<span class="n">_total_extent</span> <span class="o">=</span> <span class="n">_combined_gdf</span><span class="o">.</span><span class="n">total_bounds</span>
<span class="n">_polygon</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">geometry</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="o">*</span><span class="n">_total_extent</span><span class="p">))</span>

<span class="c1"># Write polygon (not required)</span>
<span class="n">_polygon_file</span> <span class="o">=</span> <span class="n">INPUT_FOLDER</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;polygon.geojson&#39;</span><span class="p">)</span>
<span class="n">_polygon_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">GeoDataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">geometry</span><span class="o">=</span><span class="p">[</span><span class="n">_polygon</span><span class="p">],</span> <span class="n">crs</span><span class="o">=</span><span class="s1">&#39;epsg:4326&#39;</span><span class="p">)</span>
<span class="n">_polygon_gdf</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="n">_polygon_file</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s1">&#39;GeoJSON&#39;</span><span class="p">)</span>

<span class="c1"># Write the combined extent to a new file (not required)</span>
<span class="n">_combined_extent_file</span> <span class="o">=</span> <span class="n">INPUT_FOLDER</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;combined_extent.geojson&#39;</span><span class="p">)</span>
<span class="n">_combined_geojson</span> <span class="o">=</span> <span class="n">_combined_gdf</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">_combined_extent_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">_combined_geojson</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
</section>
<section id="Create-network">
<h5>Create network<a class="headerlink" href="#Create-network" title="Link to this heading">#</a></h5>
<p>The network is downloaded from OSM based on the given polygon.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read network from polygon</span>

<span class="n">_road_type_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">MOTORWAY</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">MOTORWAY_LINK</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">TRUNK</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">TRUNK_LINK</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">PRIMARY</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">PRIMARY_LINK</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">SECONDARY</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">SECONDARY_LINK</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">TERTIARY</span><span class="p">,</span> <span class="n">RoadTypeEnum</span><span class="o">.</span><span class="n">TERTIARY_LINK</span><span class="p">]</span>
<span class="n">_network_section</span> <span class="o">=</span> <span class="n">NetworkSection</span><span class="p">(</span><span class="n">network_type</span><span class="o">=</span><span class="n">NetworkTypeEnum</span><span class="o">.</span><span class="n">DRIVE</span><span class="p">,</span> <span class="n">road_types</span><span class="o">=</span><span class="n">_road_type_list</span><span class="p">,</span> <span class="n">save_gpkg</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">_config_data</span> <span class="o">=</span> <span class="n">NetworkConfigData</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">_network_section</span><span class="p">,</span> <span class="n">static_path</span><span class="o">=</span><span class="n">OUTPUT_FOLDER</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">))</span>
<span class="n">_network_wrapper</span> <span class="o">=</span> <span class="n">OsmNetworkWrapper</span><span class="o">.</span><span class="n">with_polygon</span><span class="p">(</span><span class="n">_config_data</span><span class="p">,</span> <span class="n">_polygon</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Export-the-network-to-file">
<h5>Export the network to file<a class="headerlink" href="#Export-the-network-to-file" title="Link to this heading">#</a></h5>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">_graph</span><span class="p">,</span> <span class="n">_gdf</span><span class="p">]</span> <span class="o">=</span> <span class="n">_network_wrapper</span><span class="o">.</span><span class="n">get_network</span><span class="p">()</span>

<span class="c1"># Export the graph</span>
<span class="n">_exporter</span> <span class="o">=</span> <span class="n">MultiGraphNetworkExporter</span><span class="p">(</span><span class="n">basename</span><span class="o">=</span><span class="s1">&#39;base_graph&#39;</span><span class="p">,</span> <span class="n">export_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;gpkg&#39;</span><span class="p">,</span> <span class="s1">&#39;pickle&#39;</span><span class="p">])</span>
<span class="n">_exporter</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">export_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">OUTPUT_FOLDER</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="s1">&#39;output_graph&#39;</span><span class="p">),</span> <span class="n">export_data</span><span class="o">=</span><span class="n">_graph</span><span class="p">)</span>

<span class="c1"># Export the network</span>
<span class="n">_exporter</span> <span class="o">=</span> <span class="n">GeoDataFrameNetworkExporter</span><span class="p">(</span><span class="n">basename</span><span class="o">=</span><span class="s1">&#39;base_network&#39;</span><span class="p">,</span> <span class="n">export_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;gpkg&#39;</span><span class="p">,</span> <span class="s1">&#39;pickle&#39;</span><span class="p">])</span>
<span class="n">_exporter</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">export_path</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="n">OUTPUT_FOLDER</span><span class="p">)</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s1">&#39;static&#39;</span><span class="p">,</span> <span class="s1">&#39;output_graph&#39;</span><span class="p">),</span> <span class="n">export_data</span><span class="o">=</span><span class="n">_gdf</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="Re-projecting">
<h4>Re-projecting<a class="headerlink" href="#Re-projecting" title="Link to this heading">#</a></h4>
<p>It might be possible that we require to pre-process the hazard files due to a different projection than WGS-84.</p>
<p>This can be done either locally or “in the cloud”. Do not forget this step is optional and is not always required to be run.</p>
<p>The following snippet displays the content of the preprocessing python script in <code class="docutils literal notranslate"><span class="pre">user_question_1\convert_floodmaps_to_wgs84.py</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># user_question_1\convert_floodmaps_to_wgs84.py</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">gc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>


<span class="c1"># Input and output folder paths</span>
<span class="n">_input_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">_output_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="c1"># Iterate over each input GeoTIFF file</span>
<span class="k">for</span> <span class="n">_input_tiff</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">_input_folder</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.tif&quot;</span><span class="p">)):</span>
    <span class="n">_output_tiff</span> <span class="o">=</span> <span class="n">_output_folder</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">_input_tiff</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="n">_input_dataarray</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataarray</span><span class="p">(</span><span class="n">_input_tiff</span><span class="p">)</span>
    <span class="n">_input_as_wgs84</span> <span class="o">=</span> <span class="n">_input_dataarray</span><span class="o">.</span><span class="n">raster</span><span class="o">.</span><span class="n">reproject</span><span class="p">(</span><span class="n">dst_crs</span><span class="o">=</span><span class="mi">4326</span><span class="p">)</span>

    <span class="n">_input_as_wgs84</span><span class="o">.</span><span class="n">raster</span><span class="o">.</span><span class="n">to_raster</span><span class="p">(</span><span class="n">_output_tiff</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;GTiff&quot;</span><span class="p">,</span> <span class="n">compress</span><span class="o">=</span><span class="s2">&quot;lzw&quot;</span><span class="p">)</span>

    <span class="c1"># Clean up</span>
    <span class="k">del</span> <span class="n">_input_dataarray</span><span class="p">,</span> <span class="n">_input_as_wgs84</span>
    <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Creating-the-buckets">
<h4>Creating the buckets<a class="headerlink" href="#Creating-the-buckets" title="Link to this heading">#</a></h4>
<p>We create buckets online with each containing our network configuration, network extent and only one hazard file. This way we spread the computation of each hazard overlay for enhanced performance.</p>
<section id="Preparing-the-floodmaps">
<h5>Preparing the floodmaps<a class="headerlink" href="#Preparing-the-floodmaps" title="Link to this heading">#</a></h5>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This script is the last section of `hazard_overlay_preprocessing.ipynb`</span>
<span class="c1"># Reproject and save the floodmaps</span>
<span class="n">_output_folder</span> <span class="o">=</span> <span class="n">OUTPUT_FOLDER</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">OUTPUT_FLOODMAP_FOLDER</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">_output_folder</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="n">_output_folder</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">check_projection</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">_input_ds</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
    <span class="n">_source_proj</span> <span class="o">=</span> <span class="n">_input_ds</span><span class="o">.</span><span class="n">GetProjection</span><span class="p">()</span>
    <span class="n">_srs</span> <span class="o">=</span> <span class="n">osr</span><span class="o">.</span><span class="n">SpatialReference</span><span class="p">(</span><span class="n">wkt</span><span class="o">=</span><span class="n">_source_proj</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">_srs</span><span class="o">.</span><span class="n">IsProjected</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">_srs</span><span class="o">.</span><span class="n">GetAttrValue</span><span class="p">(</span><span class="s1">&#39;geogcs&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;WGS 84&#39;</span>

<span class="k">for</span> <span class="n">_region</span> <span class="ow">in</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">INPUT_FOLDER</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()]:</span>
    <span class="n">_models_dir</span> <span class="o">=</span> <span class="n">_region</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">INPUT_FLOODMAP_FOLDER</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_floodmap</span> <span class="ow">in</span> <span class="n">_models_dir</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
        <span class="n">_output_file</span> <span class="o">=</span> <span class="n">_output_folder</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">_floodmap</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">check_projection</span><span class="p">(</span><span class="n">_floodmap</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Floodmap </span><span class="si">{</span><span class="n">_floodmap</span><span class="si">}</span><span class="s1"> is not in the right projection&#39;</span><span class="p">)</span>
        <span class="n">copyfile</span><span class="p">(</span><span class="n">_floodmap</span><span class="p">,</span> <span class="n">_output_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="UQ1-Processing">
<h3>UQ1 Processing<a class="headerlink" href="#UQ1-Processing" title="Link to this heading">#</a></h3>
<section id="Running-the-hazard-overlay">
<h4>Running the hazard overlay<a class="headerlink" href="#Running-the-hazard-overlay" title="Link to this heading">#</a></h4>
<p>In each bucket, we do a simple ra2ce run by modifying the <code class="docutils literal notranslate"><span class="pre">NetworkConfigData.hazard.hazard_map</span></code> property so that instead of having ‘n’ defined hazard files, contains only the name of the available hazard file for its executing “bucket”.</p>
<p>The script to be run (<code class="docutils literal notranslate"><span class="pre">user_question_1\hazard_overlay_cloud_run.py</span></code>) is as follows:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># user_question_1\hazard_overlay_cloud_run.py</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.ra2ce_handler</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ra2ceHandler</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This script runs a network WITHOUT an analysis,</span>
<span class="sd">    as we are only interested to retrieve the HAZARD overlay.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># Create one network configuration per provided hazard.</span>
<span class="c1"># We assume the whole input directory will be mounted in `/data`</span>
<span class="n">_root_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/data&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_root_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="n">_network_file</span> <span class="o">=</span> <span class="n">_root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;network.ini&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_network_file</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="n">_tif_data_directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/input&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_tif_data_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="c1"># Run analysis</span>
<span class="n">_handler</span> <span class="o">=</span> <span class="n">Ra2ceHandler</span><span class="p">(</span><span class="n">_network_file</span><span class="p">,</span> <span class="n">analysis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">_handler</span><span class="o">.</span><span class="n">input_config</span><span class="o">.</span><span class="n">network_config</span><span class="o">.</span><span class="n">config_data</span><span class="o">.</span><span class="n">hazard</span><span class="o">.</span><span class="n">hazard_map</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nb">list</span><span class="p">(</span><span class="n">_tif_data_directory</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.tif&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># Try to get only RELEVANT info messages.</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="n">_handler</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
<span class="n">_handler</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="UQ1-Post-processing">
<h3>UQ1 Post-processing<a class="headerlink" href="#UQ1-Post-processing" title="Link to this heading">#</a></h3>
<section id="Unifying-the-outputs">
<h4>Unifying the outputs<a class="headerlink" href="#Unifying-the-outputs" title="Link to this heading">#</a></h4>
<p>Because we ran ra2ce with one container per hazard file, it means we have our output spread over different containers. We then unify all the available outputs and export its content into both a <code class="docutils literal notranslate"><span class="pre">.json</span></code> (geojson) and a <code class="docutils literal notranslate"><span class="pre">.feather</span></code> file.</p>
<p>This script can be found as <code class="docutils literal notranslate"><span class="pre">user_question_1\post_processing.py</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># user_question_1\post_processing.py</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>

<span class="c1"># set the required parameters</span>
<span class="n">cloud_output_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/data&#39;</span><span class="p">)</span>

<span class="n">event_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">folder</span><span class="o">.</span><span class="n">stem</span> <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">cloud_output_folder</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()]</span>
<span class="c1"># save as a .py script</span>
<span class="n">aggregate_wl</span> <span class="o">=</span> <span class="s2">&quot;max&quot;</span>  <span class="c1"># this we should get from network_config or analysis_config</span>

<span class="n">aggregate_wls</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="s2">&quot;ma&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mean&quot;</span><span class="p">:</span> <span class="s2">&quot;me&quot;</span><span class="p">,</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="s2">&quot;mi&quot;</span>
<span class="p">}</span>

<span class="n">aggregate_wl_column</span> <span class="o">=</span> <span class="n">aggregate_wls</span><span class="p">[</span><span class="n">aggregate_wl</span><span class="p">]</span>
<span class="n">event_wl_column</span> <span class="o">=</span> <span class="s2">&quot;EV1_&quot;</span> <span class="o">+</span> <span class="n">aggregate_wl_column</span>
<span class="n">event_fraction_column</span> <span class="o">=</span> <span class="s2">&quot;EV1_fr&quot;</span>
<span class="n">fid_column</span> <span class="o">=</span> <span class="s2">&quot;rfid&quot;</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">event_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">event_names</span><span class="p">):</span>
    <span class="n">overlay_output_path</span> <span class="o">=</span> <span class="n">cloud_output_folder</span> <span class="o">/</span> <span class="n">event_name</span> <span class="o">/</span> <span class="s2">&quot;static&quot;</span> <span class="o">/</span> <span class="s2">&quot;output_graph&quot;</span> <span class="o">/</span> <span class="s2">&quot;base_graph_hazard_edges.gpkg&quot;</span>
    <span class="n">overlay_output_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">overlay_output_path</span><span class="p">)</span>

    <span class="c1"># Define the mapping of EV1_ column names to event_name</span>
    <span class="n">column_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">event_wl_column</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_&quot;</span> <span class="o">+</span> <span class="n">aggregate_wl_column</span><span class="p">,</span> <span class="n">event_fraction_column</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_fr&quot;</span><span class="p">}</span>
    <span class="n">overlay_output_gdf</span> <span class="o">=</span> <span class="n">overlay_output_gdf</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column_mapping</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># create the base gdf that aggregate all results</span>
        <span class="n">result_gdf</span> <span class="o">=</span> <span class="n">overlay_output_gdf</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_overlay_output_gdf</span> <span class="o">=</span> <span class="n">overlay_output_gdf</span><span class="p">[[</span><span class="n">fid_column</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_&quot;</span> <span class="o">+</span> <span class="n">aggregate_wl_column</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_fr&quot;</span><span class="p">]]</span>
        <span class="n">result_gdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">result_gdf</span><span class="p">,</span>
            <span class="n">filtered_overlay_output_gdf</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="n">fid_column</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="n">fid_column</span><span class="p">,</span>
        <span class="p">)</span>

<span class="n">gdf</span> <span class="o">=</span> <span class="n">result_gdf</span>

<span class="n">gdf</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s1">&#39;/output/result_gdf.geojson&#39;</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;GeoJSON&quot;</span><span class="p">)</span>
<span class="n">gdf</span><span class="o">.</span><span class="n">to_feather</span><span class="p">(</span><span class="s1">&#39;/output/result_gdf.feather&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Expected-result">
<h4>Expected result<a class="headerlink" href="#Expected-result" title="Link to this heading">#</a></h4>
<p>During the hackathon the above steps where run through the cloud infrastructure, delivering us a geojson file (<code class="docutils literal notranslate"><span class="pre">user_question_1\result_gdf.json</span></code>) which we summarized, due to its large size, in the following snippet:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;FeatureCollection&quot;</span><span class="p">,</span>
<span class="s2">&quot;crs&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot;</span> <span class="p">}</span> <span class="p">},</span>
<span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span> <span class="mi">2312756550</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="mi">9435564285</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="s2">&quot;N324&quot;</span><span class="p">,</span> <span class="s2">&quot;highway&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary&quot;</span><span class="p">,</span> <span class="s2">&quot;oneway&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="s2">&quot;reversed&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="n">false</span><span class="p">,</span> <span class="n">true</span> <span class="p">],</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mf">32701.151</span><span class="p">,</span> <span class="s2">&quot;rfid_c&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">1092</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">74</span><span class="p">,</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">84</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">92</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">124</span><span class="p">,</span> <span class="mi">1661</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">1663</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">1665</span><span class="p">,</span> <span class="mi">1666</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">1668</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span> <span class="mi">1671</span><span class="p">,</span> <span class="mi">136</span><span class="p">,</span> <span class="mi">138</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">141</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">148</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">1183</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">1185</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span> <span class="mi">1187</span><span class="p">,</span> <span class="mi">164</span><span class="p">,</span> <span class="mi">1189</span><span class="p">,</span> <span class="mi">166</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span> <span class="mi">172</span><span class="p">,</span> <span class="mi">174</span><span class="p">,</span> <span class="mi">176</span><span class="p">,</span> <span class="mi">178</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">182</span><span class="p">,</span> <span class="mi">3255</span><span class="p">,</span> <span class="mi">184</span><span class="p">,</span> <span class="mi">3257</span><span class="p">,</span> <span class="mi">186</span><span class="p">,</span> <span class="mi">3259</span><span class="p">,</span> <span class="mi">3260</span><span class="p">,</span> <span class="mi">189</span><span class="p">,</span> <span class="mi">3262</span><span class="p">,</span> <span class="mi">188</span><span class="p">,</span> <span class="mi">3264</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">3266</span><span class="p">,</span> <span class="mi">194</span><span class="p">,</span> <span class="mi">3268</span><span class="p">,</span> <span class="mi">196</span><span class="p">,</span> <span class="mi">3270</span><span class="p">,</span> <span class="mi">3271</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">198</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">204</span><span class="p">,</span> <span class="mi">206</span><span class="p">,</span> <span class="mi">208</span><span class="p">,</span> <span class="mi">210</span><span class="p">,</span> <span class="mi">212</span><span class="p">,</span> <span class="mi">214</span><span class="p">,</span> <span class="mi">216</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">1767</span><span class="p">,</span> <span class="mi">1769</span><span class="p">,</span> <span class="mi">1805</span><span class="p">,</span> <span class="mi">1807</span><span class="p">,</span> <span class="mi">1809</span><span class="p">,</span> <span class="mi">1811</span><span class="p">,</span> <span class="mi">1875</span><span class="p">,</span> <span class="mi">1878</span><span class="p">,</span> <span class="mi">1880</span><span class="p">,</span> <span class="mi">1882</span><span class="p">,</span> <span class="mi">1884</span><span class="p">,</span> <span class="mi">1885</span><span class="p">,</span> <span class="mi">1888</span><span class="p">,</span> <span class="mi">1890</span><span class="p">,</span> <span class="mi">1892</span><span class="p">,</span> <span class="mi">1894</span><span class="p">,</span> <span class="mi">1896</span><span class="p">,</span> <span class="mi">1898</span><span class="p">,</span> <span class="mi">1900</span><span class="p">,</span> <span class="mi">1902</span><span class="p">,</span> <span class="mi">1904</span><span class="p">,</span> <span class="mi">1906</span><span class="p">,</span> <span class="mi">1908</span><span class="p">,</span> <span class="mi">1910</span><span class="p">,</span> <span class="mi">1912</span><span class="p">,</span> <span class="mi">1914</span><span class="p">,</span> <span class="mi">1916</span><span class="p">,</span> <span class="mi">1918</span><span class="p">,</span> <span class="mi">1920</span><span class="p">,</span> <span class="mi">1922</span><span class="p">,</span> <span class="mi">1924</span><span class="p">,</span> <span class="mi">1926</span><span class="p">,</span> <span class="mi">1928</span><span class="p">,</span> <span class="mi">1930</span><span class="p">,</span> <span class="mi">1932</span><span class="p">,</span> <span class="mi">1934</span><span class="p">,</span> <span class="mi">1936</span><span class="p">,</span> <span class="mi">981</span> <span class="p">],</span> <span class="s2">&quot;rfid&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;bridge&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;avgspeed&quot;</span><span class="p">:</span> <span class="mf">59.0</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mf">1995.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;junction&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;lanes&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;maxspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;tunnel&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;osmid_original&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">1021406339</span><span class="p">,</span> <span class="mi">622806373</span><span class="p">,</span> <span class="mi">622806374</span><span class="p">,</span> <span class="mi">622806375</span><span class="p">,</span> <span class="mi">622806376</span><span class="p">,</span> <span class="mi">222294054</span><span class="p">,</span> <span class="mi">617604301</span><span class="p">,</span> <span class="mi">219115766</span><span class="p">,</span> <span class="mi">219115775</span> <span class="p">],</span> <span class="s2">&quot;TC_0098_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0098_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_ma&quot;</span><span class="p">:</span> <span class="mf">0.360931396484375</span><span class="p">,</span> <span class="s2">&quot;TC_0142_fr&quot;</span><span class="p">:</span> <span class="mf">0.0094489253302677528</span><span class="p">,</span> <span class="s2">&quot;TC_0145_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_ma&quot;</span><span class="p">:</span> <span class="mf">0.2004547119140625</span><span class="p">,</span> <span class="s2">&quot;TC_0147_fr&quot;</span><span class="p">:</span> <span class="mf">0.0017436712422498476</span><span class="p">,</span> <span class="s2">&quot;TC_0166_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_ma&quot;</span><span class="p">:</span> <span class="mf">0.51285552978515625</span><span class="p">,</span> <span class="s2">&quot;TC_0379_fr&quot;</span><span class="p">:</span> <span class="mf">0.023181703594162224</span><span class="p">,</span> <span class="s2">&quot;TC_0388_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_ma&quot;</span><span class="p">:</span> <span class="mf">0.16949844360351562</span><span class="p">,</span> <span class="s2">&quot;TC_0637_fr&quot;</span><span class="p">:</span> <span class="mf">0.0046076563923134204</span><span class="p">,</span> <span class="s2">&quot;TC_0642_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_ma&quot;</span><span class="p">:</span> <span class="mf">0.25518035888671875</span><span class="p">,</span> <span class="s2">&quot;TC_0673_fr&quot;</span><span class="p">:</span> <span class="mf">0.0066475256222551056</span><span class="p">,</span> <span class="s2">&quot;TC_0689_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_ma&quot;</span><span class="p">:</span> <span class="mf">0.16817092895507812</span><span class="p">,</span> <span class="s2">&quot;TC_0815_fr&quot;</span><span class="p">:</span> <span class="mf">0.0046076563923134204</span><span class="p">,</span> <span class="s2">&quot;TC_0821_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_ma&quot;</span><span class="p">:</span> <span class="mf">0.26370620727539062</span><span class="p">,</span> <span class="s2">&quot;TC_0866_fr&quot;</span><span class="p">:</span> <span class="mf">0.0054298714754633859</span><span class="p">,</span> <span class="s2">&quot;TC_0875_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span> <span class="p">},</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LineString&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">39.137194</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.832636</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1371437</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8326518</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1371132</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8326794</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1369741</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8328745</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1366267</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8334123</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.136506</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8336999</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1364311</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8338932</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1361949</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8348038</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1357362</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8364776</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1355056</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8368987</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1353023</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8370004</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1350738</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8369684</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1345319</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8370039</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1337648</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8368524</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1334268</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8367523</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1330829</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8367434</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1327085</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8368687</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1310482</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8374011</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1274561</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8386137</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1208716</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8407742</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1182101</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8416181</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1152827</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8425892</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1115917</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8437746</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1096912</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8444536</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.1022113</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8469119</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0944196</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8494248</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0943056</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8494689</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0941483</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8495183</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0939665</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8495819</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0937766</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8495923</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0935568</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8495637</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0932692</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8493897</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0902279</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.847071</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0886028</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8459545</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.087968</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8456507</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0855569</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8450996</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0845616</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8449492</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0838926</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8449646</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0834292</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8450533</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0824097</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8453503</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0788635</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8465999</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0776802</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8470814</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0759981</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8476734</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0745005</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8482498</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0734424</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8485277</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0689341</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8492033</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0649995</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8499947</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0628454</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8503453</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0610358</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8506179</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0606126</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8507383</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0554768</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8535026</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0525413</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8551644</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0500941</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8565197</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.047061</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8582126</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.046247</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8587215</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0354329</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8686812</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0339373</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8701001</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0320823</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8717448</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0314904</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.872137</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0311382</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8723004</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0305902</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8724172</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0300749</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8724359</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0296894</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8723315</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.028943</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8719533</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0267135</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8708386</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.025173</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8697148</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0225867</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8667573</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0200935</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.863839</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0178661</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8611622</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0164661</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8597913</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0148383</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8584645</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0137281</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8574891</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0126177</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.856607</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0112606</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8552943</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0102452</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8542297</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0088561</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8524017</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0080964</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8512867</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0056434</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8485431</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">39.0047725</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8476679</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9970797</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8423751</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9952291</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8411456</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9915802</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8389086</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9874645</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8359321</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9837594</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8331127</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9797207</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8295614</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9760362</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8261918</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9749893</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8253027</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9747789</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8251602</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9713304</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8239175</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9692777</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8229252</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9650132</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8205871</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9619701</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8183815</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.961108</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8176299</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9581572</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8145155</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9543546</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.81034</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9475448</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8035362</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9454228</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8017265</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9417331</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7983839</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9414238</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7981761</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9411688</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7980696</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9370629</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7966188</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9342252</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7954016</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9322771</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7946545</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9306564</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7941008</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9282553</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.792988</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9273822</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7925439</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9257778</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.79152</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9235896</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.790031</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9217342</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7889287</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9212267</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7887249</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9207083</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7885995</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.919395</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7884001</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9159268</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7879089</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9138784</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7876128</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9127607</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7873219</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9123591</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7871686</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9118002</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7869244</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9111979</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.786649</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9103129</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7861005</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9097174</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.785755</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9083823</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7852157</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.907728</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7850387</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.907199</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7849816</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9057204</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7849712</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9049688</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7850751</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9035499</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7853452</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9018461</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.785714</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9010051</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7858959</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.9002726</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7862024</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8989676</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7868206</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8981347</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7871167</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8967348</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7875712</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8930587</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7888231</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8926951</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7888725</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8922287</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7888543</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8896919</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7886747</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.886702</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7884608</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8853816</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7884456</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.880539</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7886388</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8796807</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7886803</span> <span class="p">]</span> <span class="p">]</span> <span class="p">}</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span> <span class="mi">2312756550</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="mi">2283157832</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="s2">&quot;N324&quot;</span><span class="p">,</span> <span class="s2">&quot;highway&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary&quot;</span><span class="p">,</span> <span class="s2">&quot;oneway&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="s2">&quot;reversed&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mf">35108.418</span><span class="p">,</span> <span class="s2">&quot;rfid_c&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">87</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">9836</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">1672</span><span class="p">,</span> <span class="mi">1674</span><span class="p">,</span> <span class="mi">1676</span><span class="p">,</span> <span class="mi">1678</span><span class="p">,</span> <span class="mi">1680</span><span class="p">,</span> <span class="mi">1682</span><span class="p">,</span> <span class="mi">1684</span><span class="p">,</span> <span class="mi">1686</span><span class="p">,</span> <span class="mi">1688</span><span class="p">,</span> <span class="mi">1178</span><span class="p">,</span> <span class="mi">1690</span><span class="p">,</span> <span class="mi">1180</span><span class="p">,</span> <span class="mi">1692</span><span class="p">,</span> <span class="mi">1694</span><span class="p">,</span> <span class="mi">1696</span><span class="p">,</span> <span class="mi">1698</span><span class="p">,</span> <span class="mi">1700</span><span class="p">,</span> <span class="mi">1702</span><span class="p">,</span> <span class="mi">1704</span><span class="p">,</span> <span class="mi">1706</span><span class="p">,</span> <span class="mi">1708</span><span class="p">,</span> <span class="mi">1710</span><span class="p">,</span> <span class="mi">1712</span><span class="p">,</span> <span class="mi">1714</span><span class="p">,</span> <span class="mi">1716</span><span class="p">,</span> <span class="mi">1718</span><span class="p">,</span> <span class="mi">1720</span><span class="p">,</span> <span class="mi">1722</span><span class="p">,</span> <span class="mi">1724</span><span class="p">,</span> <span class="mi">1726</span><span class="p">,</span> <span class="mi">1728</span><span class="p">,</span> <span class="mi">1730</span><span class="p">,</span> <span class="mi">1732</span><span class="p">,</span> <span class="mi">1734</span><span class="p">,</span> <span class="mi">1736</span><span class="p">,</span> <span class="mi">1738</span><span class="p">,</span> <span class="mi">9420</span><span class="p">,</span> <span class="mi">1740</span><span class="p">,</span> <span class="mi">9422</span><span class="p">,</span> <span class="mi">1742</span><span class="p">,</span> <span class="mi">9424</span><span class="p">,</span> <span class="mi">1744</span><span class="p">,</span> <span class="mi">9426</span><span class="p">,</span> <span class="mi">1746</span><span class="p">,</span> <span class="mi">9428</span><span class="p">,</span> <span class="mi">1748</span><span class="p">,</span> <span class="mi">9430</span><span class="p">,</span> <span class="mi">1750</span><span class="p">,</span> <span class="mi">9432</span><span class="p">,</span> <span class="mi">1752</span><span class="p">,</span> <span class="mi">9434</span><span class="p">,</span> <span class="mi">1754</span><span class="p">,</span> <span class="mi">9436</span><span class="p">,</span> <span class="mi">1756</span><span class="p">,</span> <span class="mi">9438</span><span class="p">,</span> <span class="mi">1758</span><span class="p">,</span> <span class="mi">9440</span><span class="p">,</span> <span class="mi">1760</span><span class="p">,</span> <span class="mi">9442</span><span class="p">,</span> <span class="mi">1762</span><span class="p">,</span> <span class="mi">9444</span><span class="p">,</span> <span class="mi">1764</span><span class="p">,</span> <span class="mi">9446</span><span class="p">,</span> <span class="mi">10982</span><span class="p">,</span> <span class="mi">9448</span><span class="p">,</span> <span class="mi">10984</span><span class="p">,</span> <span class="mi">10986</span><span class="p">,</span> <span class="mi">9450</span><span class="p">,</span> <span class="mi">10988</span><span class="p">,</span> <span class="mi">9452</span><span class="p">,</span> <span class="mi">10990</span><span class="p">,</span> <span class="mi">9454</span><span class="p">,</span> <span class="mi">10992</span><span class="p">,</span> <span class="mi">9456</span><span class="p">,</span> <span class="mi">10994</span><span class="p">,</span> <span class="mi">9458</span><span class="p">,</span> <span class="mi">10996</span><span class="p">,</span> <span class="mi">9460</span><span class="p">,</span> <span class="mi">10998</span><span class="p">,</span> <span class="mi">9462</span><span class="p">,</span> <span class="mi">11000</span><span class="p">,</span> <span class="mi">9464</span><span class="p">,</span> <span class="mi">11002</span><span class="p">,</span> <span class="mi">9466</span><span class="p">,</span> <span class="mi">9468</span><span class="p">,</span> <span class="mi">11004</span><span class="p">,</span> <span class="mi">11006</span><span class="p">,</span> <span class="mi">9470</span><span class="p">,</span> <span class="mi">11008</span><span class="p">,</span> <span class="mi">9472</span><span class="p">,</span> <span class="mi">11010</span><span class="p">,</span> <span class="mi">9474</span><span class="p">,</span> <span class="mi">11012</span><span class="p">,</span> <span class="mi">9476</span><span class="p">,</span> <span class="mi">11014</span><span class="p">,</span> <span class="mi">9478</span><span class="p">,</span> <span class="mi">11016</span><span class="p">,</span> <span class="mi">9480</span><span class="p">,</span> <span class="mi">11018</span><span class="p">,</span> <span class="mi">9482</span><span class="p">,</span> <span class="mi">11020</span><span class="p">,</span> <span class="mi">9484</span><span class="p">,</span> <span class="mi">11022</span><span class="p">,</span> <span class="mi">9486</span><span class="p">,</span> <span class="mi">11024</span><span class="p">,</span> <span class="mi">9488</span><span class="p">,</span> <span class="mi">11026</span><span class="p">,</span> <span class="mi">9490</span><span class="p">,</span> <span class="mi">9492</span><span class="p">,</span> <span class="mi">9494</span><span class="p">,</span> <span class="mi">9500</span><span class="p">,</span> <span class="mi">9502</span><span class="p">,</span> <span class="mi">9504</span><span class="p">,</span> <span class="mi">9510</span><span class="p">,</span> <span class="mi">1843</span><span class="p">,</span> <span class="mi">1845</span><span class="p">,</span> <span class="mi">9526</span><span class="p">,</span> <span class="mi">1847</span><span class="p">,</span> <span class="mi">9528</span><span class="p">,</span> <span class="mi">1849</span><span class="p">,</span> <span class="mi">1851</span><span class="p">,</span> <span class="mi">9532</span><span class="p">,</span> <span class="mi">1853</span><span class="p">,</span> <span class="mi">9535</span><span class="p">,</span> <span class="mi">1855</span><span class="p">,</span> <span class="mi">1857</span><span class="p">,</span> <span class="mi">9538</span><span class="p">,</span> <span class="mi">1859</span><span class="p">,</span> <span class="mi">9540</span><span class="p">,</span> <span class="mi">1861</span><span class="p">,</span> <span class="mi">9542</span><span class="p">,</span> <span class="mi">1863</span><span class="p">,</span> <span class="mi">9545</span><span class="p">,</span> <span class="mi">1865</span><span class="p">,</span> <span class="mi">9547</span><span class="p">,</span> <span class="mi">1867</span><span class="p">,</span> <span class="mi">9549</span><span class="p">,</span> <span class="mi">1869</span><span class="p">,</span> <span class="mi">9551</span><span class="p">,</span> <span class="mi">1871</span><span class="p">,</span> <span class="mi">9553</span><span class="p">,</span> <span class="mi">1873</span><span class="p">,</span> <span class="mi">9555</span><span class="p">,</span> <span class="mi">9557</span><span class="p">,</span> <span class="mi">9559</span><span class="p">,</span> <span class="mi">9561</span><span class="p">,</span> <span class="mi">9563</span><span class="p">,</span> <span class="mi">9565</span><span class="p">,</span> <span class="mi">9567</span><span class="p">,</span> <span class="mi">9571</span><span class="p">,</span> <span class="mi">9573</span><span class="p">,</span> <span class="mi">9579</span><span class="p">,</span> <span class="mi">9581</span><span class="p">,</span> <span class="mi">9583</span><span class="p">,</span> <span class="mi">9585</span><span class="p">,</span> <span class="mi">9591</span><span class="p">,</span> <span class="mi">11128</span><span class="p">,</span> <span class="mi">9593</span><span class="p">,</span> <span class="mi">11130</span><span class="p">,</span> <span class="mi">9595</span><span class="p">,</span> <span class="mi">9597</span><span class="p">,</span> <span class="mi">9599</span><span class="p">,</span> <span class="mi">9603</span><span class="p">,</span> <span class="mi">9609</span><span class="p">,</span> <span class="mi">1937</span><span class="p">,</span> <span class="mi">1939</span><span class="p">,</span> <span class="mi">9621</span><span class="p">,</span> <span class="mi">1941</span><span class="p">,</span> <span class="mi">1943</span><span class="p">,</span> <span class="mi">9625</span><span class="p">,</span> <span class="mi">1945</span><span class="p">,</span> <span class="mi">9629</span><span class="p">,</span> <span class="mi">9631</span><span class="p">,</span> <span class="mi">9634</span><span class="p">,</span> <span class="mi">9635</span><span class="p">,</span> <span class="mi">9637</span><span class="p">,</span> <span class="mi">9639</span><span class="p">,</span> <span class="mi">9645</span><span class="p">,</span> <span class="mi">9649</span><span class="p">,</span> <span class="mi">9651</span><span class="p">,</span> <span class="mi">9653</span><span class="p">,</span> <span class="mi">9655</span><span class="p">,</span> <span class="mi">982</span><span class="p">,</span> <span class="mi">984</span><span class="p">,</span> <span class="mi">986</span><span class="p">,</span> <span class="mi">988</span><span class="p">,</span> <span class="mi">990</span><span class="p">,</span> <span class="mi">992</span><span class="p">,</span> <span class="mi">994</span><span class="p">,</span> <span class="mi">996</span> <span class="p">],</span> <span class="s2">&quot;rfid&quot;</span><span class="p">:</span> <span class="mi">63</span><span class="p">,</span> <span class="s2">&quot;bridge&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span> <span class="s2">&quot;avgspeed&quot;</span><span class="p">:</span> <span class="mf">59.0</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mf">2142.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;junction&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;lanes&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;maxspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;tunnel&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;osmid_original&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">622773825</span><span class="p">,</span> <span class="mi">622773827</span><span class="p">,</span> <span class="mi">222294053</span><span class="p">,</span> <span class="mi">222294054</span><span class="p">,</span> <span class="mi">219115757</span><span class="p">,</span> <span class="mi">219115763</span><span class="p">,</span> <span class="mi">219115770</span><span class="p">,</span> <span class="mi">219115772</span><span class="p">,</span> <span class="mi">219115773</span> <span class="p">],</span> <span class="s2">&quot;TC_0098_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0098_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_ma&quot;</span><span class="p">:</span> <span class="mf">0.23963165283203125</span><span class="p">,</span> <span class="s2">&quot;TC_0142_fr&quot;</span><span class="p">:</span> <span class="mf">0.0069957230103332236</span><span class="p">,</span> <span class="s2">&quot;TC_0145_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_ma&quot;</span><span class="p">:</span> <span class="mf">0.11718368530273438</span><span class="p">,</span> <span class="s2">&quot;TC_0147_fr&quot;</span><span class="p">:</span> <span class="mf">0.00087339052119900717</span><span class="p">,</span> <span class="s2">&quot;TC_0166_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_ma&quot;</span><span class="p">:</span> <span class="mf">0.88681221008300781</span><span class="p">,</span> <span class="s2">&quot;TC_0379_fr&quot;</span><span class="p">:</span> <span class="mf">0.021559251267715285</span><span class="p">,</span> <span class="s2">&quot;TC_0388_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_ma&quot;</span><span class="p">:</span> <span class="mf">0.12184333801269531</span><span class="p">,</span> <span class="s2">&quot;TC_0637_fr&quot;</span><span class="p">:</span> <span class="mf">0.0040787747774758479</span><span class="p">,</span> <span class="s2">&quot;TC_0642_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_ma&quot;</span><span class="p">:</span> <span class="mf">0.19067573547363281</span><span class="p">,</span> <span class="s2">&quot;TC_0673_fr&quot;</span><span class="p">:</span> <span class="mf">0.0058483074494670257</span><span class="p">,</span> <span class="s2">&quot;TC_0689_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_ma&quot;</span><span class="p">:</span> <span class="mf">0.11027336120605469</span><span class="p">,</span> <span class="s2">&quot;TC_0815_fr&quot;</span><span class="p">:</span> <span class="mf">0.0012757311553735769</span><span class="p">,</span> <span class="s2">&quot;TC_0821_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_ma&quot;</span><span class="p">:</span> <span class="mf">0.11719322204589844</span><span class="p">,</span> <span class="s2">&quot;TC_0866_fr&quot;</span><span class="p">:</span> <span class="mf">0.0049521652986748554</span><span class="p">,</span> <span class="s2">&quot;TC_0875_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span> <span class="p">},</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LineString&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">38.5808761</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8126744</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5817182</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8128379</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5824952</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8128752</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5841725</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8128918</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5857502</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8129104</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5865055</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8128462</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5900851</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8123842</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5933228</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8119409</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5949719</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8117586</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.595645</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.811626</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5968937</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8113069</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5991618</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8106523</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.5998024</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8105114</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6015836</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8102504</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6020684</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8102255</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6025207</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8103312</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6029514</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8105176</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6032717</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8107331</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6037453</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8111861</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6045616</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8118787</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6050983</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8122247</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6056869</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8125189</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6076542</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8134532</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6084095</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8136998</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6089701</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8138344</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6096669</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8139712</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6103703</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8140147</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6110542</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8139836</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6129192</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8139009</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.613898</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8139836</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6144499</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8141307</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6150723</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8144033</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6177348</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8159768</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6188129</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8166561</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6192912</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8170642</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6197915</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.817554</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6201272</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8178827</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6207754</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8184995</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6212518</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8189457</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6217801</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8193078</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6244247</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8205839</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6274481</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8219139</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.627749</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8219491</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6281645</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8218952</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6291254</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8215865</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6296145</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8213048</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6329474</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8192249</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6361158</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8174474</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6372066</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8167555</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6381892</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8160263</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6385571</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8158647</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6421448</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8144328</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6435301</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8140745</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6471264</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8136867</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6474891</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8136091</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6502017</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8127891</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6512744</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8124197</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6538212</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8111232</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6544077</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8109274</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6569081</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8108055</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6584169</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8106356</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6590009</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8105278</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6616644</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8100618</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6622293</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8099023</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6632746</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8094527</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6657137</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.80816</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6676636</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8068216</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6688366</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8061566</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6709359</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8048679</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6719293</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8042402</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.672215</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8040806</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6733988</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.80366</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6742775</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8034591</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6753466</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8032312</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6759547</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8031607</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.677777</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8029971</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.679372</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8028645</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6798503</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8027961</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6807074</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8025537</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6819691</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8021787</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6823673</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8021062</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6848454</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8019218</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.685328</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8019404</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6864988</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8021497</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6871719</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8023797</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6912276</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8041179</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6917947</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8042733</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6929265</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8045364</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6937857</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8046524</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6945735</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8047084</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6956491</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8046794</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6989128</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8044743</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.6995577</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8045074</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7015607</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8047735</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7025854</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8050171</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.703159</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8052222</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7051868</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.806256</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7064998</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8071007</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7077732</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8080241</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7083482</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.808279</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7120366</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8094817</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7125885</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8097076</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7141359</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8104741</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.717235</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8125893</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7178259</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8129167</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7183712</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8131404</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7187954</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8132709</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7192824</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8133745</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7199619</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8134077</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7204294</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8133621</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7257923</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8121108</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7303991</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8111074</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7316403</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8108665</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7318105</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8108328</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7326309</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8106394</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7360512</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8099197</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7388149</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8093492</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7433945</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.808235</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7458606</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8076325</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7479388</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8070715</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7501038</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8064092</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7529656</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8055187</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7544295</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8050698</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7558239</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8046246</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7616694</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8026719</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7648898</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8015785</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7685334</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.8002539</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7713197</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7993059</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7804653</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7958139</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7837399</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.794449</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7859076</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7935997</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7891714</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.792166</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7923945</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7905608</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.7989817</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7872102</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8000316</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7865167</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8026009</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7845452</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.804112</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7833426</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8043345</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7832049</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8048391</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7829815</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8096086</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7811062</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8119857</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7800968</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8158649</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.778545</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8202152</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7767034</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8212095</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7762981</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8213547</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7761877</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8213832</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7760618</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.821375</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7759643</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8212204</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7754137</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8208989</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7743655</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8208433</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7741058</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8208284</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7738187</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8208948</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7734096</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8211797</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7724238</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8215025</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7714744</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.821687</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7711244</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.821862</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7708692</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8220709</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7707159</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8224128</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7704613</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8227709</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7702626</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.823011</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7700782</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.823205</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7699353</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8233976</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7698743</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.823829</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7698535</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8242766</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7698483</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.824472</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7698717</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8245723</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7699249</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8247107</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7700951</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8250471</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.770773</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8254569</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7713794</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8256478</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7715985</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8258261</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7719744</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.826106</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7724773</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8266166</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7733265</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8273301</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7744019</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.82771</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7748149</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8285646</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7752877</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8292591</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.775589</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8301083</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.775854</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8309574</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7761215</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.831983</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7765579</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8339174</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7777112</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8356049</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.778719</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8366412</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7792645</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8373331</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7795451</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8381334</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7797555</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8387357</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7798516</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8405154</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7800853</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8432258</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7803607</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8460093</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7806568</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8481363</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7808256</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8489909</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.780862</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8497696</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7809711</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8529167</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7820594</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8538798</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7824023</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.854578</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7826157</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8557925</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7830465</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8575397</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.783779</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8598837</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7846491</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8625344</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7856361</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8643494</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7863011</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8645909</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7864154</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8647048</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7865193</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8648622</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7866725</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8650683</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7869244</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8652732</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7870881</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8653966</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7871296</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.865467</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7871285</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8656942</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7871025</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8659946</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.787042</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8661807</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7870231</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8663535</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.787042</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8667423</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7871582</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8693115</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7879582</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8704591</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7883089</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8716257</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7886465</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8721087</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.78874</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8724803</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7887608</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8753914</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.788818</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8765879</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7887894</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">38.8796807</span><span class="p">,</span> <span class="o">-</span><span class="mf">16.7886803</span> <span class="p">]</span> <span class="p">]</span> <span class="p">}</span> <span class="p">},</span>
    <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span> <span class="mi">4791770241</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="mi">4791770247</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;highway&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_link&quot;</span><span class="p">,</span> <span class="s2">&quot;oneway&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;reversed&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mf">50.769</span><span class="p">,</span> <span class="s2">&quot;rfid_c&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">641472</span><span class="p">,</span> <span class="mi">641473</span><span class="p">,</span> <span class="mi">641793</span><span class="p">,</span> <span class="mi">641475</span><span class="p">,</span> <span class="mi">641796</span><span class="p">,</span> <span class="mi">641469</span><span class="p">,</span> <span class="mi">641470</span><span class="p">,</span> <span class="mi">641471</span> <span class="p">],</span> <span class="s2">&quot;rfid&quot;</span><span class="p">:</span> <span class="mi">6268</span><span class="p">,</span> <span class="s2">&quot;bridge&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;avgspeed&quot;</span><span class="p">:</span> <span class="mf">59.0</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;junction&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;lanes&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;maxspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;tunnel&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;osmid_original&quot;</span><span class="p">:</span> <span class="s2">&quot;486589275&quot;</span><span class="p">,</span> <span class="s2">&quot;TC_0098_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0098_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span> <span class="p">},</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LineString&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">32.7750115</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6132508</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7749806</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6131661</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7749761</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6131362</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7749799</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6131034</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.775004</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6130498</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7750349</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6130117</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7750821</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6129876</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7751442</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6129826</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7752301</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6130036</span> <span class="p">]</span> <span class="p">]</span> <span class="p">}</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span> <span class="mi">4791770247</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="mi">4791770248</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="s2">&quot;N301&quot;</span><span class="p">,</span> <span class="s2">&quot;highway&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary&quot;</span><span class="p">,</span> <span class="s2">&quot;oneway&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;reversed&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mf">36.976</span><span class="p">,</span> <span class="s2">&quot;rfid_c&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">641474</span><span class="p">,</span> <span class="mi">639862</span> <span class="p">],</span> <span class="s2">&quot;rfid&quot;</span><span class="p">:</span> <span class="mi">6267</span><span class="p">,</span> <span class="s2">&quot;bridge&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;avgspeed&quot;</span><span class="p">:</span> <span class="mf">59.0</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;junction&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;lanes&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;maxspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;tunnel&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;osmid_original&quot;</span><span class="p">:</span> <span class="s2">&quot;171468493&quot;</span><span class="p">,</span> <span class="s2">&quot;TC_0098_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0098_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span> <span class="p">},</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LineString&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">32.7750115</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6132508</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7748811</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6131478</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7747438</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6130408</span> <span class="p">]</span> <span class="p">]</span> <span class="p">}</span> <span class="p">},</span>
    <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Feature&quot;</span><span class="p">,</span> <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;u&quot;</span><span class="p">:</span> <span class="mi">4791770254</span><span class="p">,</span> <span class="s2">&quot;v&quot;</span><span class="p">:</span> <span class="mi">4791770260</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;ref&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;highway&quot;</span><span class="p">:</span> <span class="s2">&quot;secondary_link&quot;</span><span class="p">,</span> <span class="s2">&quot;oneway&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;reversed&quot;</span><span class="p">:</span> <span class="s2">&quot;False&quot;</span><span class="p">,</span> <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="mf">41.625</span><span class="p">,</span> <span class="s2">&quot;rfid_c&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">641483</span><span class="p">,</span> <span class="mi">641484</span><span class="p">,</span> <span class="mi">641485</span><span class="p">,</span> <span class="mi">641486</span><span class="p">,</span> <span class="mi">641487</span><span class="p">,</span> <span class="mi">641489</span><span class="p">,</span> <span class="mi">641787</span><span class="p">,</span> <span class="mi">641788</span> <span class="p">],</span> <span class="s2">&quot;rfid&quot;</span><span class="p">:</span> <span class="mi">6272</span><span class="p">,</span> <span class="s2">&quot;bridge&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;avgspeed&quot;</span><span class="p">:</span> <span class="mf">59.0</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mf">3.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0064_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;junction&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;lanes&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;maxspeed&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;access&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;tunnel&quot;</span><span class="p">:</span> <span class="s2">&quot;nan&quot;</span><span class="p">,</span> <span class="s2">&quot;osmid_original&quot;</span><span class="p">:</span> <span class="s2">&quot;486589277&quot;</span><span class="p">,</span> <span class="s2">&quot;TC_0098_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0098_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0120_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0142_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0145_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0147_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0166_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0184_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0209_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0228_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0229_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0240_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0329_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0333_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0356_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0379_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0388_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0400_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0420_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0434_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0438_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0444_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0451_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0467_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0505_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0527_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0535_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0541_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0554_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0558_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0587_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0625_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0631_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0637_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0642_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0653_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0673_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0689_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0729_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0731_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0750_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0803_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_ma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;TC_0814_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0815_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0821_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0862_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0866_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0875_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_ma&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;TC_0920_fr&quot;</span><span class="p">:</span> <span class="mf">0.0</span> <span class="p">},</span> <span class="s2">&quot;geometry&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LineString&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="p">[</span> <span class="mf">32.7757113</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6138013</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7757155</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.613735</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7757248</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6136963</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.775747</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.613651</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7757671</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6136232</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.775802</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6135968</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7758445</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6135798</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.7758854</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6135747</span> <span class="p">],</span> <span class="p">[</span> <span class="mf">32.775945</span><span class="p">,</span> <span class="o">-</span><span class="mf">15.6135767</span> <span class="p">]</span> <span class="p">]</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">]}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="UQ1-Results-visualization">
<h3>UQ1 Results visualization<a class="headerlink" href="#UQ1-Results-visualization" title="Link to this heading">#</a></h3>
<p>Last, we can now manually download the results ( <code class="docutils literal notranslate"><span class="pre">.json</span></code> and <code class="docutils literal notranslate"><span class="pre">.feather</span></code>) and visualize them locally. We will break down here the snippets within the jupyter notebook at <code class="docutils literal notranslate"><span class="pre">user_question_1\visualise_unified_cloud_results.ipynb</span></code>.</p>
<section id="UQ1-Results---Show-the-base-graph-network">
<h4>UQ1 Results - Show the base graph network<a class="headerlink" href="#UQ1-Results---Show-the-base-graph-network" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">folium</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">root_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;user_question_1&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">root_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
<span class="n">path_csv</span> <span class="o">=</span> <span class="n">root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;event_weights.csv&quot;</span><span class="p">)</span>

<span class="n">file_path_result</span> <span class="o">=</span> <span class="n">root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;result_gdf.json&quot;</span><span class="p">)</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">file_path_result</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;JSON&quot;</span><span class="p">)</span>
<span class="n">gdf</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ1-Results---Import-scenario-names-and-their-weights">
<h4>UQ1 Results - Import scenario names and their weights<a class="headerlink" href="#UQ1-Results---Import-scenario-names-and-their-weights" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the scenario names and their respective weights:</span>
<span class="n">scenarios_weights_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path_csv</span><span class="p">)</span>
<span class="n">number_of_scenarios</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">scenarios_weights_df</span><span class="p">)</span>


<span class="n">aggregate_wl</span> <span class="o">=</span> <span class="s2">&quot;max&quot;</span>  <span class="c1"># this we should get from network_config or analysis_config</span>

<span class="n">aggregate_wls</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="s2">&quot;ma&quot;</span><span class="p">,</span>
    <span class="s2">&quot;mean&quot;</span><span class="p">:</span> <span class="s2">&quot;me&quot;</span><span class="p">,</span>
    <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="s2">&quot;mi&quot;</span>
<span class="p">}</span>

<span class="n">aggregate_wl_column</span> <span class="o">=</span> <span class="n">aggregate_wls</span><span class="p">[</span><span class="n">aggregate_wl</span><span class="p">]</span>

<span class="n">columns_to_count</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">columns_to_count_fraction</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">scenarios_weights_df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">():</span>
    <span class="n">actual</span> <span class="o">=</span>  <span class="n">name</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">aggregate_wl_column</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">actual_fraction</span> <span class="o">=</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_fr&quot;</span>
    <span class="k">if</span> <span class="n">actual</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">columns_to_count</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
        <span class="n">columns_to_count_fraction</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">actual_fraction</span><span class="p">)</span>


<span class="n">weights_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">scenarios_weights_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">weights_dict</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="n">aggregate_wl_column</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ1-Results---Modify-the-dataframe">
<h4>UQ1 Results - Modify the dataframe<a class="headerlink" href="#UQ1-Results---Modify-the-dataframe" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Parametrization</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># would be nice to make this threshold into a slider.</span>
<span class="n">fraction_threshold</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">color_on_probability</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># Add a new column with the count of non-zero values across specified columns</span>
<span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">row_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">hazard_depth</span><span class="p">,</span> <span class="n">hazard_fraction</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">columns_to_count</span><span class="p">,</span> <span class="n">columns_to_count_fraction</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">hazard_fraction</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">fraction_threshold</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">hazard_depth</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">:</span>
                <span class="n">row_count</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">gdf</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row_count</span>


<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">total_weight</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columns_to_count</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">:</span>
            <span class="c1"># Find the corresponding weight and add to total</span>
            <span class="n">weight</span> <span class="o">=</span> <span class="n">weights_dict</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
            <span class="n">total_weight</span> <span class="o">+=</span> <span class="n">weight</span>
    <span class="n">gdf</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;cum_pf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">total_weight</span>

<span class="n">temp</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">temp</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ1-Results---Create-a-color-map">
<h4>UQ1 Results - Create a color map<a class="headerlink" href="#UQ1-Results---Create-a-color-map" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">branca.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearColormap</span>

<span class="c1"># Create a Folium pop_diff_map centered around the mean of the geometry</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">]</span>
<span class="n">pop_diff_map</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">center</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">control_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;cartodbpositron&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="n">color_on_probability</span><span class="p">:</span>
    <span class="n">var</span> <span class="o">=</span> <span class="s1">&#39;cum_pf&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">var</span> <span class="o">=</span> <span class="s2">&quot;count&quot;</span>

<span class="n">vmin</span><span class="o">=</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="n">var</span><span class="p">])</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">vmax</span><span class="o">=</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="n">var</span><span class="p">])</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="c1"># Classify values into ranges</span>
<span class="n">ranges</span> <span class="o">=</span> <span class="p">[</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmin</span><span class="o">+</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">vmin</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">vmin</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span> <span class="p">,</span> <span class="n">vmax</span><span class="p">]</span>

<span class="n">ranges</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span>
<span class="c1"># Create a colormap from green to green to red using the overall min and max values</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">LinearColormap</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;darkred&#39;</span><span class="p">],</span>
                          <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                          <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span>
                          <span class="p">)</span>

<span class="n">colormap</span><span class="o">.</span><span class="n">caption</span> <span class="o">=</span> <span class="s1">&#39;Affected people-Optimal routes length difference (people x km)&#39;</span>






    <span class="c1"># Add target_optimal_routes_with_hazard_gdf with created Colormap to feature_group</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span>
    <span class="n">cum_pf</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;cum_pf&#39;</span><span class="p">]</span>
    <span class="c1"># color = &#39;blue&#39; if (row[&#39;count&#39;] &gt; 0)  else &#39;lightgrey&#39;</span>

    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;lightgrey&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">colormap</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>

    <span class="c1"># Extracting coordinates from MultiLineString</span>
    <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">geom_type</span> <span class="o">==</span> <span class="s1">&#39;MultiLineString&#39;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]:</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
            <span class="n">coordinates</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
    <span class="c1"># Create a popup with data</span>
    <span class="n">popup_content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Nb scenario disrupting </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">columns_to_count</span><span class="p">)</span><span class="si">}</span><span class="s2">, cumulative pf: </span><span class="si">{</span><span class="n">cum_pf</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">popup</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="n">popup_content</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

    <span class="n">folium</span><span class="o">.</span><span class="n">PolyLine</span><span class="p">(</span>
        <span class="n">locations</span><span class="o">=</span><span class="n">coordinates</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="n">weight</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">popup</span><span class="o">=</span><span class="n">popup</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">pop_diff_map</span><span class="p">)</span>


    <span class="c1">#  from branca.colormap import LinearColormap</span>


<span class="c1"># colormap = branca.colormap.linear.YlOrRd_09.scale(0, 8500)</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">colormap</span><span class="o">.</span><span class="n">to_step</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">ranges</span><span class="p">)</span>
<span class="n">colormap</span><span class="o">.</span><span class="n">caption</span> <span class="o">=</span> <span class="s1">&#39;Number of scenarios for which link is disrupted&#39;</span>
<span class="n">colormap</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">pop_diff_map</span><span class="p">)</span>

<span class="c1">#pop_diff_map.save(root_dir / &quot;map_figure.html&quot;)</span>

<span class="n">pop_diff_map</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
<section id="User-Question-2">
<h2>User Question 2<a class="headerlink" href="#User-Question-2" title="Link to this heading">#</a></h2>
<section id="UQ2-Description">
<h3>UQ2 Description<a class="headerlink" href="#UQ2-Description" title="Link to this heading">#</a></h3>
<blockquote>
<div><p><strong>Disclaimer!:</strong> This user question requires further work to be fully complete. Take the following sections as an initial approach.</p>
</div></blockquote>
<p>UQ2: Where are the flood impacts most disruptive in terms of accessibility? (detour length) = multi-link redundancy .</p>
<p>The difference between this and <a class="reference internal" href="#User-Question-1"><span class="std std-ref">UQ.1</span></a> lays mostly in the post-processing (and therefore interpretation) of the results. The information regarding handling of the input (preprocessing) and processing of the data (cloud workflow) is defined in the aforementioned chapter.</p>
<ul class="simple">
<li><p><strong>Input</strong>: tbd</p></li>
<li><p><strong>Expected output</strong>: tbd</p></li>
<li><p><strong>Expected post-processed results</strong>: tbd</p></li>
<li><p><strong>Acceptance level</strong>: tbd</p></li>
</ul>
<section id="UQ2-workflow">
<h4>UQ2 workflow<a class="headerlink" href="#UQ2-workflow" title="Link to this heading">#</a></h4>
<p>For this user question we will do a slight modification from the <a class="reference internal" href="#UQ1-workflow"><span class="std std-ref">UQ.1 workflow</span></a>. This file can also be found at <code class="docutils literal notranslate"><span class="pre">user_question_2\hackathon_workflow.yaml</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Content of `user_question_2\hackathon_workflow.yaml`</span>
<span class="n">apiVersion</span><span class="p">:</span> <span class="n">argoproj</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">v1alpha1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Workflow</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">generateName</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">hackathon</span><span class="o">-</span><span class="n">uq2</span><span class="o">-</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">entrypoint</span><span class="p">:</span> <span class="n">scenario</span><span class="o">-</span><span class="n">workflow</span>
  <span class="n">templates</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">scenario</span><span class="o">-</span><span class="n">workflow</span>
    <span class="n">steps</span><span class="p">:</span>
    <span class="o">-</span> <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">define</span><span class="o">-</span><span class="n">subdirs</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">read</span><span class="o">-</span><span class="n">members</span>
    <span class="o">-</span> <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">run</span><span class="o">-</span><span class="n">scenario</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">run</span><span class="o">-</span><span class="n">scenario</span>
        <span class="n">arguments</span><span class="p">:</span>
          <span class="n">parameters</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">member</span>
            <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;{{item}}&quot;</span>
        <span class="n">withParam</span><span class="p">:</span> <span class="s2">&quot;{{steps.define-subdirs.outputs.result}}&quot;</span>
    <span class="o">-</span> <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">post</span><span class="o">-</span><span class="n">processing</span>
        <span class="n">template</span><span class="p">:</span> <span class="n">post</span><span class="o">-</span><span class="n">processing</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">read</span><span class="o">-</span><span class="n">members</span>
    <span class="n">script</span><span class="p">:</span>
      <span class="n">image</span><span class="p">:</span> <span class="mf">798877697266.</span><span class="n">dkr</span><span class="o">.</span><span class="n">ecr</span><span class="o">.</span><span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mf">1.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">boto3</span><span class="p">:</span><span class="n">latest</span>
      <span class="n">workingDir</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">[</span><span class="n">python</span><span class="p">]</span>
      <span class="n">source</span><span class="p">:</span> <span class="o">|</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

        <span class="n">bucket</span> <span class="o">=</span> <span class="s1">&#39;ra2ce-data&#39;</span>
        <span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;sfincs_floodmaps_sub/&#39;</span>

        <span class="n">client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_objects</span><span class="p">(</span><span class="n">Bucket</span><span class="o">=</span><span class="n">bucket</span><span class="p">,</span> <span class="n">Prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> <span class="n">Delimiter</span><span class="o">=</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>

        <span class="n">members</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Contents&#39;</span><span class="p">):</span>
            <span class="n">mem</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Key&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">mem</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
              <span class="n">members</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mem</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">members</span><span class="p">))</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">run</span><span class="o">-</span><span class="n">scenario</span>
    <span class="n">container</span><span class="p">:</span>
      <span class="n">image</span><span class="p">:</span> <span class="n">containers</span><span class="o">.</span><span class="n">deltares</span><span class="o">.</span><span class="n">nl</span><span class="o">/</span><span class="n">ra2ce</span><span class="o">/</span><span class="n">ra2ce</span><span class="p">:</span><span class="n">latest</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;/scripts/user_question_2/hazard_overlay_cloud_run_analysis.py&quot;</span><span class="p">]</span>
    <span class="n">nodeSelector</span><span class="p">:</span>
      <span class="n">beta</span><span class="o">.</span><span class="n">kubernetes</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">instance</span><span class="o">-</span><span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;m5.xlarge&quot;</span>
    <span class="n">inputs</span><span class="p">:</span>
      <span class="n">parameters</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">member</span>
      <span class="n">artifacts</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="nb">input</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="p">{{</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">member</span><span class="p">}}</span><span class="o">.</span><span class="n">tif</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">sfincs_floodmaps_sub</span><span class="o">/</span><span class="p">{{</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">member</span><span class="p">}}</span><span class="o">.</span><span class="n">tif</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">data</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">data</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">scripts</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">scripts</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">scripts</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
    <span class="n">outputs</span><span class="p">:</span>
      <span class="n">artifacts</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">output</span>
        <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
        <span class="n">s3</span><span class="p">:</span>
          <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
          <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
          <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
          <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">output_q2</span><span class="o">/</span><span class="p">{{</span><span class="n">inputs</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">member</span><span class="p">}}</span><span class="o">/</span>
          <span class="n">accessKeySecret</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
          <span class="n">secretKeySecret</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
        <span class="n">archive</span><span class="p">:</span>
          <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">post</span><span class="o">-</span><span class="n">processing</span>
    <span class="n">container</span><span class="p">:</span>
      <span class="n">image</span><span class="p">:</span> <span class="n">containers</span><span class="o">.</span><span class="n">deltares</span><span class="o">.</span><span class="n">nl</span><span class="o">/</span><span class="n">ra2ce</span><span class="o">/</span><span class="n">ra2ce</span><span class="p">:</span><span class="n">latest</span>
      <span class="n">command</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;/scripts/user_question_2/post_processing.py&quot;</span><span class="p">]</span>
      <span class="c1">#command: [sh, &quot;-c&quot;, &quot;for I in $(seq 1 1000) ; do echo $I ; sleep 1s; done&quot;]</span>
    <span class="n">nodeSelector</span><span class="p">:</span>
      <span class="n">beta</span><span class="o">.</span><span class="n">kubernetes</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">instance</span><span class="o">-</span><span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;m5.xlarge&quot;</span>
    <span class="n">inputs</span><span class="p">:</span>
      <span class="n">artifacts</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">output</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">data</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">output_q2</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">scripts</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">scripts</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">scripts</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
    <span class="n">outputs</span><span class="p">:</span>
      <span class="n">artifacts</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">pp_output</span>
          <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">output</span>
          <span class="n">s3</span><span class="p">:</span>
            <span class="n">endpoint</span><span class="p">:</span> <span class="n">s3</span><span class="o">.</span><span class="n">amazonaws</span><span class="o">.</span><span class="n">com</span>
            <span class="n">bucket</span><span class="p">:</span> <span class="n">ra2ce</span><span class="o">-</span><span class="n">data</span>
            <span class="n">key</span><span class="p">:</span> <span class="n">beira_qualimane_sfincs_fm</span><span class="o">/</span><span class="n">postprocessing_output_q2</span>
            <span class="n">region</span><span class="p">:</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">accessKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">accessKey</span>
            <span class="n">secretKeySecret</span><span class="p">:</span>
              <span class="n">name</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">s3</span><span class="o">-</span><span class="n">credentials</span>
              <span class="n">key</span><span class="p">:</span> <span class="n">secretKey</span>
          <span class="n">archive</span><span class="p">:</span>
            <span class="n">none</span><span class="p">:</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="UQ2-Pre-processing">
<h3>UQ2 Pre-processing<a class="headerlink" href="#UQ2-Pre-processing" title="Link to this heading">#</a></h3>
<p>Same as in <a class="reference internal" href="#UQ1-Pre-processing"><span class="std std-ref">UQ1 preprocessing</span></a></p>
</section>
<section id="UQ2-Processing">
<h3>UQ2 Processing<a class="headerlink" href="#UQ2-Processing" title="Link to this heading">#</a></h3>
<p>Yet another slight modification of the step in the <a class="reference internal" href="#UQ1-Pre-processing"><span class="std std-ref">preprocessing of UQ.1</span></a> that can be found at <code class="docutils literal notranslate"><span class="pre">user_question_2\hazard_overlay_cloud_run_analysis.py</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># user_question_2\hazard_overlay_cloud_run_analysis.py</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ra2ce.ra2ce_handler</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ra2ceHandler</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This script runs a network WITHOUT an analysis,</span>
<span class="sd">    as we are only interested to retrieve the HAZARD overlay.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># Create one network configuration per provided hazard.</span>
<span class="c1"># We assume the whole input directory will be mounted in `/data`</span>
<span class="n">_root_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/data&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_root_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="n">_network_file</span> <span class="o">=</span> <span class="n">_root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;network.ini&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_network_file</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="n">_analysis_file</span> <span class="o">=</span> <span class="n">_root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;analysis.ini&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_analysis_file</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="n">_tif_data_directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/input&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">_tif_data_directory</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="c1"># Run analysis</span>
<span class="n">_handler</span> <span class="o">=</span> <span class="n">Ra2ceHandler</span><span class="p">(</span><span class="n">_network_file</span><span class="p">,</span> <span class="n">_analysis_file</span><span class="p">)</span>
<span class="n">_handler</span><span class="o">.</span><span class="n">input_config</span><span class="o">.</span><span class="n">network_config</span><span class="o">.</span><span class="n">config_data</span><span class="o">.</span><span class="n">hazard</span><span class="o">.</span><span class="n">hazard_map</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nb">list</span><span class="p">(</span><span class="n">_tif_data_directory</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.tif&quot;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="p">]</span>

<span class="c1"># Try to get only RELEVANT info messages.</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>

<span class="n">_handler</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>
<span class="n">_handler</span><span class="o">.</span><span class="n">run_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ2-Post-processing">
<h3>UQ2 Post-processing<a class="headerlink" href="#UQ2-Post-processing" title="Link to this heading">#</a></h3>
<p>As seen in the <a class="reference internal" href="#UQ2-workflow"><span class="std std-ref">workflow</span></a>, the results are still stored in the cloud. In particular, each of the hazard file combinations with our network has been stored at a different directory.</p>
<p>In this <a class="reference internal" href="#UQ2-Description"><span class="std std-ref">user question 2</span></a>, we will generate a unified overlay result and unified redundancy result. The two of them will be represented in both <code class="docutils literal notranslate"><span class="pre">.geojson</span></code> and <code class="docutils literal notranslate"><span class="pre">feather</span></code> formats.</p>
<p>Check the contents of the <code class="docutils literal notranslate"><span class="pre">user_question_2\post_processing.py</span></code> file:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># user_question_2\post_processing.py</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>

<span class="c1"># set the required parameters</span>
<span class="n">cloud_output_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/data&quot;</span><span class="p">)</span>

<span class="n">event_names</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">folder</span><span class="o">.</span><span class="n">stem</span> <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">cloud_output_folder</span><span class="o">.</span><span class="n">iterdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">folder</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>
<span class="p">]</span>
<span class="c1"># save as a .py script</span>
<span class="n">aggregate_wl</span> <span class="o">=</span> <span class="s2">&quot;max&quot;</span>  <span class="c1"># this we should get from network_config or analysis_config</span>

<span class="n">aggregate_wls</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="s2">&quot;ma&quot;</span><span class="p">,</span> <span class="s2">&quot;mean&quot;</span><span class="p">:</span> <span class="s2">&quot;me&quot;</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="s2">&quot;mi&quot;</span><span class="p">}</span>

<span class="n">aggregate_wl_column</span> <span class="o">=</span> <span class="n">aggregate_wls</span><span class="p">[</span><span class="n">aggregate_wl</span><span class="p">]</span>
<span class="n">event_wl_column</span> <span class="o">=</span> <span class="s2">&quot;EV1_&quot;</span> <span class="o">+</span> <span class="n">aggregate_wl_column</span>
<span class="n">event_fraction_column</span> <span class="o">=</span> <span class="s2">&quot;EV1_fr&quot;</span>
<span class="n">fid_column</span> <span class="o">=</span> <span class="s2">&quot;rfid&quot;</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">event_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">event_names</span><span class="p">):</span>
    <span class="n">overlay_output_path</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">cloud_output_folder</span>
        <span class="o">/</span> <span class="n">event_name</span>
        <span class="o">/</span> <span class="s2">&quot;static&quot;</span>
        <span class="o">/</span> <span class="s2">&quot;output_graph&quot;</span>
        <span class="o">/</span> <span class="s2">&quot;base_graph_hazard_edges.gpkg&quot;</span>
    <span class="p">)</span>
    <span class="n">overlay_output_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">overlay_output_path</span><span class="p">)</span>
    <span class="n">output_path</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">cloud_output_folder</span>
        <span class="o">/</span> <span class="n">event_name</span>
        <span class="o">/</span> <span class="s2">&quot;output&quot;</span>
        <span class="o">/</span> <span class="s2">&quot;multi_link_redundancy&quot;</span>
        <span class="o">/</span> <span class="s2">&quot;example_redundancy_multi.gpkg&quot;</span>
    <span class="p">)</span>
    <span class="n">output_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">output_path</span><span class="p">)</span>

    <span class="c1"># Column mapping</span>
    <span class="n">column_mapping_overlay</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">event_wl_column</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_&quot;</span> <span class="o">+</span> <span class="n">aggregate_wl_column</span><span class="p">,</span>
        <span class="n">event_fraction_column</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_fr&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">overlay_output_gdf</span> <span class="o">=</span> <span class="n">overlay_output_gdf</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column_mapping_overlay</span><span class="p">)</span>

    <span class="n">column_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;diff_length&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_diff_length&quot;</span><span class="p">,</span>
        <span class="s2">&quot;connected&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_connected&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">output_gdf</span> <span class="o">=</span> <span class="n">output_gdf</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">column_mapping</span><span class="p">)</span>
    <span class="n">output_gdf</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># create the base gdf that aggregate all results</span>
        <span class="n">overlay_result_gdf</span> <span class="o">=</span> <span class="n">overlay_output_gdf</span>
        <span class="n">redundancy_result_gdf</span> <span class="o">=</span> <span class="n">output_gdf</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">filtered_overlay_output_gdf</span> <span class="o">=</span> <span class="n">overlay_output_gdf</span><span class="p">[</span>
            <span class="p">[</span><span class="n">fid_column</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_&quot;</span> <span class="o">+</span> <span class="n">aggregate_wl_column</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_fr&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="n">overlay_result_gdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">overlay_result_gdf</span><span class="p">,</span>
            <span class="n">filtered_overlay_output_gdf</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="n">fid_column</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="n">fid_column</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">filtered_output_gdf</span> <span class="o">=</span> <span class="n">output_gdf</span><span class="p">[</span>
            <span class="p">[</span><span class="n">fid_column</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_diff_length&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">event_name</span><span class="si">}</span><span class="s2">_connected&quot;</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="n">redundancy_result_gdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">redundancy_result_gdf</span><span class="p">,</span>
            <span class="n">filtered_output_gdf</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="n">fid_column</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="n">fid_column</span><span class="p">,</span>
        <span class="p">)</span>


<span class="c1"># Ensure output directory exists</span>
<span class="n">_output_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/output&quot;</span><span class="p">)</span>
<span class="n">_output_path</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>

<span class="n">overlay_result_gdf</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s2">&quot;/output/overlay_result.geojson&quot;</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;GeoJSON&quot;</span><span class="p">)</span>
<span class="n">overlay_result_gdf</span><span class="o">.</span><span class="n">to_feather</span><span class="p">(</span><span class="s2">&quot;/output/overlay_result.feather&quot;</span><span class="p">)</span>

<span class="n">redundancy_result_gdf</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s2">&quot;/output/redundancy_result.geojson&quot;</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;GeoJSON&quot;</span><span class="p">)</span>
<span class="n">redundancy_result_gdf</span><span class="o">.</span><span class="n">to_feather</span><span class="p">(</span><span class="s2">&quot;/output/redundancy_result.feather&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ2-Results-visualization">
<h3>UQ2 Results visualization<a class="headerlink" href="#UQ2-Results-visualization" title="Link to this heading">#</a></h3>
<p><strong>Disclaimer!:</strong> This part is not fully validated and it might require future work.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">folium</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">branca.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearColormap</span>

<span class="n">root_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;user_question_2&quot;</span><span class="p">)</span>
<span class="n">path_result</span> <span class="o">=</span>  <span class="n">root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;example_redundancy_multi.gpkg&quot;</span><span class="p">)</span>
<span class="n">path_csv</span> <span class="o">=</span> <span class="n">root_dir</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;event_weights.csv&quot;</span><span class="p">)</span>


<span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">path_result</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;JSON&quot;</span><span class="p">)</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;diff_length&quot;</span><span class="p">:</span> <span class="s2">&quot;TC_0002_diff_length&quot;</span><span class="p">})</span>
<span class="n">gdf</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">gdf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<section id="UQ2-Results---import-scenario-names-and-their-weights">
<h4>UQ2 Results - import scenario names and their weights<a class="headerlink" href="#UQ2-Results---import-scenario-names-and-their-weights" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the scenario names and their respective weights:</span>
<span class="n">scenarios_weights_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path_csv</span><span class="p">)</span>
<span class="n">number_of_scenarios</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">scenarios_weights_df</span><span class="p">)</span>

<span class="n">columns_to_count</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">scenarios_weights_df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">():</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;_diff_length&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">actual</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>

        <span class="n">columns_to_count</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>


<span class="n">weights_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">highest_weight</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">scenarios_weights_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">weights_dict</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">+</span> <span class="s2">&quot;_diff_length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">highest_weight</span><span class="p">:</span>
        <span class="n">highest_weight</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span>
        <span class="n">most_likely_event</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">+</span> <span class="s2">&quot;_diff_length&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">scenarios_weights_df</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">columns_to_count</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">weights_dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">most_likely_event</span><span class="p">,</span> <span class="n">highest_weight</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ2-Results---modify-the-dataframe">
<h4>UQ2 Results - modify the dataframe<a class="headerlink" href="#UQ2-Results---modify-the-dataframe" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Parametrization:</span>
<span class="n">result_type</span> <span class="o">=</span> <span class="s2">&quot;max_detour&quot;</span>   <span class="c1">#One of &quot;max_detour&quot; , &quot;most_likely_event&quot; , &quot;most_likely_detour&quot; , &quot;expected_detour&quot;</span>

<span class="c1"># Add a new column with the count of non-zero values across specified columns</span>
<span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;total_risk&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">total_risk</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">columns_to_count</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weights_dict</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
        <span class="n">risk</span> <span class="o">=</span> <span class="n">weight</span> <span class="o">*</span> <span class="n">row</span><span class="p">[</span><span class="n">col</span><span class="p">]</span>
        <span class="n">total_risk</span> <span class="o">+=</span> <span class="n">risk</span>
    <span class="n">gdf</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="s1">&#39;total_risk&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">total_risk</span>
</pre></div>
</div>
</div>
</section>
<section id="UQ2-Results---create-a-color-map">
<h4>UQ2 Results - create a color map<a class="headerlink" href="#UQ2-Results---create-a-color-map" title="Link to this heading">#</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">### RESULT map for total risk</span>
<span class="c1"># Create a Folium pop_diff_map centered around the mean of the geometry</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">]</span>
<span class="n">pop_diff_map</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">center</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">control_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;cartodbpositron&quot;</span><span class="p">)</span>


<span class="n">var</span> <span class="o">=</span> <span class="s1">&#39;total_risk&#39;</span>

<span class="n">vmin</span><span class="o">=</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="n">var</span><span class="p">])</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">vmax</span><span class="o">=</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="n">var</span><span class="p">])</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="c1"># Classify values into ranges</span>
<span class="n">ranges</span> <span class="o">=</span> <span class="p">[</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmin</span><span class="o">+</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">vmin</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">vmin</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span> <span class="p">,</span> <span class="n">vmax</span><span class="p">]</span>

<span class="n">ranges</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span>
<span class="c1"># Create a colormap from green to green to red using the overall min and max values</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">LinearColormap</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;darkred&#39;</span><span class="p">],</span>
                          <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                          <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span>
                          <span class="p">)</span>



<span class="c1"># Add target_optimal_routes_with_hazard_gdf with created Colormap to feature_group</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">]</span>
    <span class="c1"># color = &#39;blue&#39; if (row[&#39;count&#39;] &gt; 0)  else &#39;lightgrey&#39;</span>

    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;lightgrey&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">colormap</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>

    <span class="c1"># Extracting coordinates from MultiLineString</span>
    <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">geom_type</span> <span class="o">==</span> <span class="s1">&#39;MultiLineString&#39;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]:</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
            <span class="n">coordinates</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
    <span class="c1"># Create a popup with data</span>
    <span class="n">popup_content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;total risk: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> meters&quot;</span>
    <span class="n">popup</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="n">popup_content</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

    <span class="n">folium</span><span class="o">.</span><span class="n">PolyLine</span><span class="p">(</span>
        <span class="n">locations</span><span class="o">=</span><span class="n">coordinates</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="n">weight</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">popup</span><span class="o">=</span><span class="n">popup</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">pop_diff_map</span><span class="p">)</span>


    <span class="c1">#  from branca.colormap import LinearColormap</span>


<span class="c1"># colormap = branca.colormap.linear.YlOrRd_09.scale(0, 8500)</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">colormap</span><span class="o">.</span><span class="n">to_step</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">ranges</span><span class="p">)</span>
<span class="n">colormap</span><span class="o">.</span><span class="n">caption</span> <span class="o">=</span> <span class="s1">&#39;Total risk (m)&#39;</span>
<span class="n">colormap</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">pop_diff_map</span><span class="p">)</span>

<span class="c1">#pop_diff_map.save(root_dir / &quot;map_figure.html&quot;)</span>

<span class="n">pop_diff_map</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">branca.colormap</span><span class="w"> </span><span class="kn">import</span> <span class="n">LinearColormap</span>

<span class="c1"># Create a Folium pop_diff_map centered around the mean of the geometry</span>
<span class="n">center</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
    <span class="n">gdf</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="p">]</span>
<span class="n">pop_diff_map</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="n">center</span><span class="p">,</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">control_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">tiles</span><span class="o">=</span><span class="s2">&quot;cartodbpositron&quot;</span><span class="p">)</span>


<span class="n">var</span> <span class="o">=</span> <span class="n">most_likely_event</span>

<span class="n">vmin</span><span class="o">=</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="n">var</span><span class="p">])</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">vmax</span><span class="o">=</span><span class="p">(</span><span class="n">gdf</span><span class="p">[</span><span class="n">var</span><span class="p">])</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="c1"># Classify values into ranges</span>
<span class="n">ranges</span> <span class="o">=</span> <span class="p">[</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmin</span><span class="o">+</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">vmin</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">),</span> <span class="n">vmin</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="p">((</span><span class="n">vmax</span><span class="o">-</span><span class="n">vmin</span><span class="p">)</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span> <span class="p">,</span> <span class="n">vmax</span><span class="p">]</span>

<span class="n">ranges</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span>
<span class="c1"># Create a colormap from green to green to red using the overall min and max values</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">LinearColormap</span><span class="p">(</span><span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;darkred&#39;</span><span class="p">],</span>
                          <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                          <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span>
                          <span class="p">)</span>







    <span class="c1"># Add target_optimal_routes_with_hazard_gdf with created Colormap to feature_group</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">gdf</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">]</span>
    <span class="c1"># color = &#39;blue&#39; if (row[&#39;count&#39;] &gt; 0)  else &#39;lightgrey&#39;</span>

    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;lightgrey&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">colormap</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">var</span><span class="p">])</span>

    <span class="c1"># Extracting coordinates from MultiLineString</span>
    <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">geom_type</span> <span class="o">==</span> <span class="s1">&#39;MultiLineString&#39;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]:</span>
            <span class="n">coords</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
            <span class="n">coordinates</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">coordinates</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">coord</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">]</span>
    <span class="c1"># Create a popup with data</span>
    <span class="n">popup_content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Diff length = </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2"> m (event </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2">)&quot;</span>
    <span class="n">popup</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="n">popup_content</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

    <span class="n">folium</span><span class="o">.</span><span class="n">PolyLine</span><span class="p">(</span>
        <span class="n">locations</span><span class="o">=</span><span class="n">coordinates</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
        <span class="n">weight</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">popup</span><span class="o">=</span><span class="n">popup</span>
    <span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">pop_diff_map</span><span class="p">)</span>


    <span class="c1">#  from branca.colormap import LinearColormap</span>


<span class="c1"># colormap = branca.colormap.linear.YlOrRd_09.scale(0, 8500)</span>
<span class="n">colormap</span> <span class="o">=</span> <span class="n">colormap</span><span class="o">.</span><span class="n">to_step</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">ranges</span><span class="p">)</span>
<span class="n">colormap</span><span class="o">.</span><span class="n">caption</span> <span class="o">=</span> <span class="s1">&#39;Diff length (m)&#39;</span>
<span class="n">colormap</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">pop_diff_map</span><span class="p">)</span>

<span class="c1">#pop_diff_map.save(root_dir / &quot;map_figure.html&quot;)</span>

<span class="n">pop_diff_map</span>
</pre></div>
</div>
</div>
</section>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Context">Context</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Overall-goal">Overall goal</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#User-questions">User questions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Results">Results</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Hackathon-requirements">Hackathon requirements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Generic-workflow">Generic workflow</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#User-Question-1">User Question 1</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Description">UQ1 Description</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Input">Input</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-workflow">UQ1 workflow</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Pre-processing">UQ1 Pre-processing</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Network-creation">Network creation</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#Preparing-initial-data">Preparing initial data</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#Determine-the-polygon-of-the-total-extent-of-the-regions">Determine the polygon of the total extent of the regions</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#Create-network">Create network</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#Export-the-network-to-file">Export the network to file</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Re-projecting">Re-projecting</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Creating-the-buckets">Creating the buckets</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#Preparing-the-floodmaps">Preparing the floodmaps</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Processing">UQ1 Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Running-the-hazard-overlay">Running the hazard overlay</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Post-processing">UQ1 Post-processing</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Unifying-the-outputs">Unifying the outputs</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#Expected-result">Expected result</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Results-visualization">UQ1 Results visualization</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Results---Show-the-base-graph-network">UQ1 Results - Show the base graph network</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Results---Import-scenario-names-and-their-weights">UQ1 Results - Import scenario names and their weights</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Results---Modify-the-dataframe">UQ1 Results - Modify the dataframe</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ1-Results---Create-a-color-map">UQ1 Results - Create a color map</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#User-Question-2">User Question 2</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Description">UQ2 Description</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-workflow">UQ2 workflow</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Pre-processing">UQ2 Pre-processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Processing">UQ2 Processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Post-processing">UQ2 Post-processing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Results-visualization">UQ2 Results visualization</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Results---import-scenario-names-and-their-weights">UQ2 Results - import scenario names and their weights</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Results---modify-the-dataframe">UQ2 Results - modify the dataframe</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#UQ2-Results---create-a-color-map">UQ2 Results - create a color map</a></li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/Deltares/ra2ce/edit/master/docs/_examples/hackathons/20240326_hackathon/summary_2024q1.ipynb">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../../_sources/_examples/hackathons/20240326_hackathon/summary_2024q1.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Deltares.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>